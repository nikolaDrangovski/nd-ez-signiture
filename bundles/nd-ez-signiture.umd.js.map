{"version":3,"file":"nd-ez-signiture.umd.js.map","sources":["ng://nd-ez-signiture/src/app/modules/nd-ez-signiture/nd-ez-signiture.component.ts","ng://nd-ez-signiture/src/app/modules/nd-ez-signiture/nd-ez-signiture.module.ts"],"sourcesContent":["import { Component, OnInit, EventEmitter, ViewChild, Input, Renderer2, Output } from '@angular/core';\n\n@Component({\n  selector: 'nd-ez-signiture',\n  template: `<div class='nd-container' #ndContainer>\n    <canvas class='nd-canvas' (mousedown)='mouseDown($event)' (mousemove)='mouseMove($event)' (mouseup)='mouseUp($event)' (mouseout)='mouseLeave()' #ndcanvas></canvas>\n    <span (click)=\"ndClearCanvas()\" class=\"close warp\"></span>\n</div>`,\n  styles: [`.nd-canvas{border:1px solid #000}.nd-container{position:relative}.nd-cancel-button{top:2px;right:0;position:absolute}.close{cursor:pointer;display:inline-block;width:20px;height:20px;overflow:hidden;border:1px solid #000;top:2px;right:0;position:absolute}.close:hover::after,.close:hover::before{background:red}.close::after,.close::before{content:'';position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:#000}.close::before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.close::after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}`]\n})\nexport class NdEzSignitureComponent implements OnInit {\n  @ViewChild('ndcanvas') public canvas;\n  @ViewChild('ndContainer') public ndContainer;\n\n  @Input() public width: number = 200;\n  @Input() public height: number = 200;\n  @Input() public ndStrokeColor: string = '#000';\n  @Input() public ndLineWidth: number = 3;\n  @Output() public dataSigniture = new EventEmitter();\n\n  canvasElement: any;\n  lastX: number;\n  lastY: number;\n  mouseIsDown: boolean = false;\n  blankCanvas: any = document.createElement('canvas');\n  dataReturn: any = {\n    isEmptyCanvas: true,\n    image: null\n  }\n\n  constructor(public renderer: Renderer2) { }\n\n  ngOnInit() {\n\n  }\n  public ngAfterViewInit() {\n    this.canvasElement = this.canvas.nativeElement;\n    this.renderer.setAttribute(this.canvasElement, 'width', this.width + 'px');\n    this.renderer.setAttribute(this.canvasElement, 'height', this.height + 'px');\n    this.renderer.setAttribute(this.ndContainer.nativeElement, 'style', 'width:' + this.width + 'px');\n    this.blankCanvas.height = this.height;\n    this.blankCanvas.width = this.width;\n\n  }\n  ngAfterContentInit() {\n    this.dataSigniture.emit(this.dataReturn);\n  }\n  mouseUp(ev) {\n    this.mouseIsDown = false;\n    this.ndGetDataSigniture();\n  }\n  mouseDown(ev) {\n    this.mouseIsDown = true;\n    this.lastX = ev.layerX;\n    this.lastY = ev.layerY;\n  }\n  mouseMove(ev) {\n    let ctx = this.canvasElement.getContext(\"2d\");\n    if (this.mouseIsDown) {\n      ctx.beginPath();\n      ctx.moveTo(this.lastX, this.lastY);\n      ctx.lineTo(ev.layerX, ev.layerY);\n      ctx.closePath();\n      ctx.strokeStyle = this.ndStrokeColor;\n      ctx.lineWidth = this.ndLineWidth;\n      ctx.stroke();\n      this.lastX = ev.layerX;\n      this.lastY = ev.layerY;\n    }\n  }\n  mouseLeave() {\n    this.mouseIsDown = false;\n    this.ndGetDataSigniture();\n  }\n  ndClearCanvas() {\n    this.canvasElement.getContext(\"2d\").clearRect(0, 0, this.height, this.width);\n    this.ndGetDataSigniture();\n  }\n  ndGetDataSigniture() {\n    this.dataReturn.isEmptyCanvas = this.canvasElement.toDataURL() == this.blankCanvas.toDataURL();\n    this.dataReturn.image = this.canvasElement.toDataURL();\n    this.dataSigniture.emit(this.dataReturn);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NdEzSignitureComponent } from './nd-ez-signiture.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [NdEzSignitureComponent],\n  exports: [\n    NdEzSignitureComponent \n  ]\n})\nexport class NdEzSignitureModule { }\n"],"names":["EventEmitter","Component","Renderer2","ViewChild","Input","Output","NgModule","CommonModule"],"mappings":"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"}
