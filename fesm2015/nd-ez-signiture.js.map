{"version":3,"file":"nd-ez-signiture.js.map","sources":["ng://nd-ez-signiture/src/app/modules/nd-ez-signiture/nd-ez-signiture.component.ts","ng://nd-ez-signiture/src/app/modules/nd-ez-signiture/nd-ez-signiture.module.ts"],"sourcesContent":["import { Component, OnInit, EventEmitter, ViewChild, Input, Renderer2, Output } from '@angular/core';\n\n@Component({\n  selector: 'nd-ez-signiture',\n  template: `<div class='nd-container' #ndContainer>\n    <canvas class='nd-canvas' (mousedown)='mouseDown($event)' (mousemove)='mouseMove($event)' (mouseup)='mouseUp($event)' (mouseout)='mouseLeave()' #ndcanvas></canvas>\n    <span (click)=\"ndClearCanvas()\" class=\"close warp\"></span>\n</div>`,\n  styles: [`.nd-canvas{border:1px solid #000}.nd-container{position:relative}.nd-cancel-button{top:2px;right:0;position:absolute}.close{cursor:pointer;display:inline-block;width:20px;height:20px;overflow:hidden;border:1px solid #000;top:2px;right:0;position:absolute}.close:hover::after,.close:hover::before{background:red}.close::after,.close::before{content:'';position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:#000}.close::before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.close::after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}`]\n})\nexport class NdEzSignitureComponent implements OnInit {\n  @ViewChild('ndcanvas') public canvas;\n  @ViewChild('ndContainer') public ndContainer;\n\n  @Input() public width: number = 200;\n  @Input() public height: number = 200;\n  @Input() public ndStrokeColor: string = '#000';\n  @Input() public ndLineWidth: number = 3;\n  @Output() public dataSigniture = new EventEmitter();\n\n  canvasElement: any;\n  lastX: number;\n  lastY: number;\n  mouseIsDown: boolean = false;\n  blankCanvas: any = document.createElement('canvas');\n  dataReturn: any = {\n    isEmptyCanvas: true,\n    image: null\n  }\n\n  constructor(public renderer: Renderer2) { }\n\n  ngOnInit() {\n\n  }\n  public ngAfterViewInit() {\n    this.canvasElement = this.canvas.nativeElement;\n    this.renderer.setAttribute(this.canvasElement, 'width', this.width + 'px');\n    this.renderer.setAttribute(this.canvasElement, 'height', this.height + 'px');\n    this.renderer.setAttribute(this.ndContainer.nativeElement, 'style', 'width:' + this.width + 'px');\n    this.blankCanvas.height = this.height;\n    this.blankCanvas.width = this.width;\n\n  }\n  ngAfterContentInit() {\n    this.dataSigniture.emit(this.dataReturn);\n  }\n  mouseUp(ev) {\n    this.mouseIsDown = false;\n    this.ndGetDataSigniture();\n  }\n  mouseDown(ev) {\n    this.mouseIsDown = true;\n    this.lastX = ev.layerX;\n    this.lastY = ev.layerY;\n  }\n  mouseMove(ev) {\n    let ctx = this.canvasElement.getContext(\"2d\");\n    if (this.mouseIsDown) {\n      ctx.beginPath();\n      ctx.moveTo(this.lastX, this.lastY);\n      ctx.lineTo(ev.layerX, ev.layerY);\n      ctx.closePath();\n      ctx.strokeStyle = this.ndStrokeColor;\n      ctx.lineWidth = this.ndLineWidth;\n      ctx.stroke();\n      this.lastX = ev.layerX;\n      this.lastY = ev.layerY;\n    }\n  }\n  mouseLeave() {\n    this.mouseIsDown = false;\n    this.ndGetDataSigniture();\n  }\n  ndClearCanvas() {\n    this.canvasElement.getContext(\"2d\").clearRect(0, 0, this.height, this.width);\n    this.ndGetDataSigniture();\n  }\n  ndGetDataSigniture() {\n    this.dataReturn.isEmptyCanvas = this.canvasElement.toDataURL() == this.blankCanvas.toDataURL();\n    this.dataReturn.image = this.canvasElement.toDataURL();\n    this.dataSigniture.emit(this.dataReturn);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NdEzSignitureComponent } from './nd-ez-signiture.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [NdEzSignitureComponent],\n  exports: [\n    NdEzSignitureComponent \n  ]\n})\nexport class NdEzSignitureModule { }\n"],"names":[],"mappings":"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"}
